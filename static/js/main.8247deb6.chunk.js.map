{"version":3,"sources":["components/Loading.js","components/CountriesOutput.js","components/ResultError.js","App.js","index.js"],"names":["Loading","className","class","ShowResults","results","countryInfo","error","map","info","i","console","log","name","flag","capital","lang","languages","langItem","join","src","alt","ErrorMessage","errMessage","err","toString","App","useState","userInput","setUserInput","loading","setLoading","searchResults","setSearchResults","setError","useEffect","setTimeout","onSubmit","e","preventDefault","inputToUrl","encodeURIComponent","endPoint","axios","then","data","catch","type","value","onChange","target","placeholder","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"oMAaeA,MAXf,WACE,OACE,sBAAKC,UAAU,eAAf,UAEE,mBAAGC,MAAM,mBACT,gEACA,mECgBSC,MAtBf,YAA0C,IAAnBC,EAAkB,EAAlBA,QACfC,GADiC,EAATC,MACVF,EAAQG,KAAI,SAACC,EAAMC,GACrCC,QAAQC,IAAIH,GACZ,IAAQI,EAAmCJ,EAAnCI,KAAMC,EAA6BL,EAA7BK,KAAMC,EAAuBN,EAAvBM,QACdC,EADqCP,EAAdQ,UACNT,KAAI,SAACU,GAAD,OAAcA,EAASL,QAAMM,KAAK,MAE7D,OACE,sBAAKjB,UAAU,iBAAf,UACE,qBAAKA,UAAU,eAAf,SACE,qBAAKkB,IAAKN,EAAMO,IAAKR,EAAMX,UAAU,iBAEvC,oBAAIA,UAAU,eAAd,SAA8BW,IAC9B,8BACGA,EADH,kBACwBE,KAExB,4CAAeC,OARoBN,OAYzC,OAAO,qBAAKR,UAAU,iBAAf,SAAiCI,KCD3BgB,MAlBf,YAAkC,IAAVf,EAAS,EAATA,MACtBI,QAAQC,IAAIL,GACZ,IAAIgB,EAAahB,EAAMiB,IAAIC,WAG3B,OAFAd,QAAQC,IAAIW,GAGV,sBAAKrB,UAAU,gBAAf,UACE,mBAAGA,UAAU,gBAAb,+EAGA,+CAEGqB,EAAY,WCgENG,MArEf,WAGE,MAAkCC,mBAAS,IAA3C,mBAAOC,EAAP,KAAkBC,EAAlB,KAEA,EAA8BF,oBAAS,GAAvC,mBAAOG,EAAP,KAAgBC,EAAhB,KAEA,EAA0CJ,mBAAS,IAAnD,mBAAOK,EAAP,KAAsBC,EAAtB,KAEA,EAA0BN,mBAAS,IAAnC,mBAAOpB,EAAP,KAAc2B,EAAd,KAuCA,OAlCAC,qBAAU,WACRC,YAAW,kBAAML,GAAW,KAAQ,OACnC,IAgCCxB,EAAc,cAAC,EAAD,CAAcA,MAAOA,IAGnCuB,EAAgB,cAAC,EAAD,IAGlB,sBAAK5B,UAAU,MAAf,UACE,uBAAMmC,SA/BV,SAAsBC,GAEpBA,EAAEC,iBAGF,IAAIC,EAAaC,mBAAmBb,GAEhCc,EAAQ,gDAA4CF,GAQxDG,IAAMD,GACHE,MAAK,gBAAGC,EAAH,EAAGA,KAAH,OAAcZ,EAAiBY,MACpCC,OAAM,SAACtB,GACNb,QAAQC,IAAR,sBAA2BY,IAE3BU,EAAS,CAAEV,YAWb,UACE,uBACEuB,KAAK,OACLC,MAAOpB,EACPqB,SAxCR,SAA+BX,GAC7BT,EAAaS,EAAEY,OAAOF,QAwChBG,YAAY,wBAEd,wBAAQJ,KAAK,SAAb,uBAEF,cAAC,EAAD,CAAa1C,QAAS2B,EAAezB,MAAOA,QCpElD6C,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.8247deb6.chunk.js","sourcesContent":["import React from \"react\";\n\nfunction Loading() {\n  return (\n    <div className=\"loading-page\">\n      {/* I want a spinning gif here */}\n      <i class=\"fas fa-spinner\"></i>\n      <h3>Making you wait because I can.</h3>\n      <h3>Beauty takes time you know...</h3>\n    </div>\n  );\n}\n\nexport default Loading;\n","import React from \"react\";\n\nfunction ShowResults({ results, error }) {\n  const countryInfo = results.map((info, i) => {\n    console.log(info);\n    const { name, flag, capital, languages } = info;\n    const lang = languages.map((langItem) => langItem.name).join(\", \");\n\n    return (\n      <div className=\"search-results\" key={i}>\n        <div className=\"flag-wrapper\">\n          <img src={flag} alt={name} className=\"flag-image\" />\n        </div>\n        <h2 className=\"country-name\">{name}</h2>\n        <p>\n          {name}'s capital is: {capital}\n        </p>\n        <p>Languages: {lang}</p>\n      </div>\n    );\n  });\n  return <div className=\"search-results\">{countryInfo}</div>;\n}\n\nexport default ShowResults;\n","import React from \"react\";\n\nfunction ErrorMessage({ error }) {\n  console.log(error);\n  let errMessage = error.err.toString();\n  console.log(errMessage);\n\n  return (\n    <div className=\"error-wrapper\">\n      <p className=\"error-message\">\n        Oops, you f*cked up. Erm, I mean ... Sorry, something went wrong.\n      </p>\n      <p>\n        This happened:\n        {errMessage}{\" \"}\n      </p>\n    </div>\n  );\n}\n\nexport default ErrorMessage;\n","import React, { useState, useEffect } from \"react\";\n// import axios, the helper for promises\nimport axios from \"axios\";\n\n// import components\nimport Loading from \"./components/Loading\";\nimport ShowResults from \"./components/CountriesOutput\";\nimport ErrorMessage from \"./components/ResultError\";\n\nfunction App() {\n  // setting up states\n  // user input state\n  const [userInput, setUserInput] = useState(\"\");\n  // loading runs once in the beginning of mounting, gives user an idea that page is loading\n  const [loading, setLoading] = useState(true);\n  // change of search results\n  const [searchResults, setSearchResults] = useState([]);\n  // status of error\n  const [error, setError] = useState(\"\");\n\n  // setup useEffect\n  // this useEffect will run in the beginning before loading the real page\n  // Loading will be true until timeout\n  useEffect(() => {\n    setTimeout(() => setLoading(false), 1000);\n  }, []);\n\n  // make user input a state to track changes\n  function handleUserInputChange(e) {\n    setUserInput(e.target.value);\n  }\n\n  // what happens on clicking \"Search\"\n  function handleSubmit(e) {\n    // prevent default of form\n    e.preventDefault();\n    // encode userInput into URL code\n    // URI = Uniform Resource Identifier\n    let inputToUrl = encodeURIComponent(userInput);\n    // userInput is now usable for loading the API's search address\n    let endPoint = `https://restcountries.eu/rest/v2/name/${inputToUrl}`;\n\n    // behind the scenes of axios happens something like this:\n    // fetch(endPoint)\n    // .then((res)=> res.json())\n    // .then((data)=>setResults(data))\n\n    // axios takes the endpoint and then fetches the data for us\n    axios(endPoint)\n      .then(({ data }) => setSearchResults(data))\n      .catch((err) => {\n        console.log(`You have an ${err}`);\n        // setting error state\n        setError({ err });\n      });\n  }\n  // return en error message if there is an error\n  if (error) return <ErrorMessage error={error} />;\n\n  // if loading is true show Loading instead of App\n  if (loading) return <Loading />;\n\n  return (\n    <div className=\"App\">\n      <form onSubmit={handleSubmit}>\n        <input\n          type=\"text\"\n          value={userInput}\n          onChange={handleUserInputChange}\n          placeholder=\"Type a country name\"\n        />\n        <button type=\"submit\">Search</button>\n      </form>\n      <ShowResults results={searchResults} error={error} />\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}